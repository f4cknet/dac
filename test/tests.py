import requests
from io import BytesIO
from gzip import GzipFile

headers = {
        'ACCEPT': 'application/json, text/plain, */*', 'ACCEPT-LANGUAGE': 'zh-CN,zh;q=0.9,en;q=0.8', 'CONTENT-LENGTH': '114', 'CONTENT-TYPE': 'application/json; charset=UTF-8', 'COOKIE': 'yz_log_ftime=1695629435196; yz_log_uuid=537f8b60-e5ab-1d5e-f6e6-965e6088f820; ec=ixrZL9WE-1695629438641-4dbb93ebd1aa3-28898502; KDTSESSIONID=YZ1155899226516656128YZiS34vts1; nobody_sign=YZ1155899226516656128YZiS34vts1; captcha_sid=YZ1155899226532573184YZeI26Jf7P; _canwebp=1; trace_sdk_context_banner_id=g.2719445114~pending_payment_popup~0~Kb7vM9Gz; trace_sdk_context_from_source=; trace_sdk_context_userStatus=noPay; Hm_lvt_7bec91b798a11b6f175b22039b5e7bdd=1696837298; Hm_lpvt_7bec91b798a11b6f175b22039b5e7bdd=1696837298; Hm_lvt_7fff7ceede91c07fb0a2f9c1850d7987=1698312228; trace_sdk_context_pv_id=/wscuser/membercenter~a1e2141d-e0a5-44ec-a69e-3b37fcc29765; mobile=18551300731; country_code=+86; user_weixin=+86-18551300731; trace_sdk_context_qr=directgoods_3441187088; _kdt_id_=80835714; mark-map={"appLaunch":{"st":1698821953446},"p_i":{"st":1698655816882}}; yz_fp_hash=9c80a245da0ccbf6a8c2119726dae212; _efmdata=z12ps%2FuOogxIpMbdQMgDoS%2Bs%2FbNOqqS2KVijL80pxzZyTwIOVW7oV3PhkR%2B0Ccdr4Ic2zEMKGfe%2BBYITRKVCP4%2BOwxNYwF746jefBCT9ju8%3D; _exid=Hnd26%2B5EMLv%2FH5ikQzmWCQnVh7gOfd%2F6c%2BQP2WFxN2PuIUW3sqo3QW2owKZsNArkCw4M6aVP5%2BCz4FF2aYi%2Faw%3D%3D; dfp=a9568044d127005e81f05e76b43e351818dc6304; sid=YZ1169326263522181120YZlfdXZ1DB; user_id=8108013595; user_nickname=%E9%9D%99%E6%80%9D; yz_log_seqb=1698830708153; gr_user_id=59701360-8307-4d02-88c8-a7d200216345; gr_session_id_767813e963734402a8256e1096b88331=740df1a8-aff8-4d9f-8842-c134dcb1c739; gr_cs1_740df1a8-aff8-4d9f-8842-c134dcb1c739=user_id%3A8108013595; gr_session_id_767813e963734402a8256e1096b88331_740df1a8-aff8-4d9f-8842-c134dcb1c739=true; kdt_id=55; team_auth_key=fe72d44912ca6975ada4e1f09a94a540; access_token=24ed284e1c5f2d9d22a027fde54eb2; mp_id=3; weixin_subscribe_key=31d0b88067967e1b439133ab5ccefe48; weixin_menu_key=d10e6bbb86e9ba265202bab0cdac754d; weixin_certsub_key=03a2cd83c79532f23ae88bee0b17c6b8; weixin_oldsub_key=a5fb3f8ab23278b65c02471184c46d33; weixin_server_key=00e56e3fb5d9a9863529891206e78b52; Hm_lpvt_7fff7ceede91c07fb0a2f9c1850d7987=1698831539; yz_log_seqn=348', 'DNT': '1', 'HOST': 'dian192223.shangjia.youzan.com', 'ORIGIN': 'https://dian192223.shangjia.youzan.com', 'REFERER': 'https://dian192223.shangjia.youzan.com/v4/ump/electronWayBill', 'SEC-CH-UA': '"Chromium";v="118", "Google Chrome";v="118", "Not=A?Brand";v="99"', 'SEC-CH-UA-MOBILE': '?0', 'SEC-CH-UA-PLATFORM': '"macOS"', 'SEC-FETCH-DEST': 'empty', 'SEC-FETCH-MODE': 'cors', 'SEC-FETCH-SITE': 'same-origin', 'USER-AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36', 'WHO': 'www', 'X-CAT-TRACE': '{"_catChildMessageId":"yz7-0ad7309c-1698831577236-782004","_catRootMessageId":"yz7-0ad7309c-1698831577236-269971"}', 'X-FORWARDED-FOR': '172.18.237.153, 172.18.237.153', 'X-FORWARDED-PROTO': 'https', 'X-KDT-REMOTE': '172.18.237.153:', 'X-KDT-SCHEME': 'https', 'X-REAL-IP': '172.18.237.153', 'X-RONTGEN': 'traceId=yz7-0ad7309c-1698831577236-269971;spanId=yz7-0ad7309c-1698831577236-269971;sampled=false', 'X-SERVICE-CHAIN': '{"percent":971,"name":"prj0070243","kdtid":"80835714","clientip":"172.18.237.153"}', 'X-YZ-ACTION-ID': 'wsc-pc-ump-0ad7355e-1698831526108-784444', 'X-YZ-ELAPSED': '0', 'X-YZ-TRACE': 'yz7-0ad7309c-1698831577236-269971', 'X-YZ-VIA': 'qabb-qa-httpgw-cloud-httpgw-default-nginx-0'
    }

data = {
    "waybillVersion":2,
    "csrf_token":
    "104315986879444991718413749476593229490975351382230414301077743537298084245354"
}
proxies={"http":"127.0.0.1:8001"}

respon = requests.post(url="http://store.youzan.com"+"/v4/trade/order/detail/activeRefundBySeller.json",json=data,headers=headers,proxies=proxies)

print(respon.text)